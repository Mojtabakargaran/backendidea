---
title: "امکانات بک‌اند سامانین"
description: "راهنمای پیاده‌سازی کامل امکانات برای سیستم مدیریت اجاره سامانین"
version: "1.0.0"
last_updated: "2025-08-03"
technology_stack: 
  - "NestJS"
  - "TypeScript" 
  - "PostgreSQL"
  - "TypeORM"
language_support: ["en", "fa", "ar"]
authentication_type: "session-based"
feature_status: "production_ready"
tags:
  - "مدیریت-اجاره"
  - "چندمستاجره"
  - "چندزبانه"
  - "احراز-هویت-نشست"
  - "postgresql"
  - "nestjs"
  - "typescript"
ai_metadata:
  purpose: "وضعیت_پیاده_سازی_کامل"
  structure: "تعریف_نقاط_پایانی_و_ردیابی_امکانات"
  maintenance: "به_روزرسانی_در_تکمیل_امکان"
  indexing_priority: "بالا"
---

# 📋 وضعیت پیاده‌سازی

<!-- برچسب‌های دوستدار هوش مصنوعی: #مستندات-بک‌اند #پیاده‌سازی-امکانات #چندمستاجره #احراز-هویت-نشست -->

## 🚀 راهبری سریع
- [امکانات پیاده‌سازی شده](#امکانات-پیاده‌سازی-شده)
- [قوانین کسب‌وکار](#قوانین-کسب‌وکار-پیاده‌سازی-شده)

## 📊 نمای کلی پیاده‌سازی
- **کل امکانات**: 16 تکمیل شده ✅
- **احراز هویت**: مبتنی بر نشست با پشتیبانی چندمستاجره
- **زبان‌ها**: انگلیسی، فارسی، عربی
- **پایگاه داده**: PostgreSQL با TypeORM

---
## ✅ امکانات پیاده‌سازی شده
<!-- برچسب‌های هوش مصنوعی: #وضعیت-پیاده‌سازی #ردیابی-امکانات #وضعیت-تکمیل #الزامات-کسب‌وکار -->

> **پیشرفت پیاده‌سازی**: 15/15 امکان تکمیل شده (100% ✅)  
> **آخرین به‌روزرسانی**: 3 اوت 2025  
> **وضعیت**: آماده تولید

### 🔐 ثبت‌نام کاربر با ایجاد مستاجر ✅
<!-- برچسب‌های هوش مصنوعی: #ثبت‌نام-کاربر #ایجاد-مستاجر #چندزبانه #تأیید-ایمیل #تخصیص-نقش #امنیت -->
- ثبت‌نام کاربر با ایجاد خودکار مستاجر
- پشتیبانی چندزبانه (فارسی/عربی با محلی ایران/امارات)
- محلی‌سازی زمان‌واقعی (پردازش هدر Accept-Language)
- سیستم کلید پیام کامل (پیروی از راهنمای README_API.md)
- سیستم تأیید ایمیل با مدیریت مناسب خرابی
- هش امن رمزعبور (bcrypt با 12 دور)
- کنترل دسترسی مبتنی بر نقش (تخصیص خودکار مالک مستاجر)
- معماری پایگاه داده چندمستاجره
- اعتبارسنجی جامع (اعتبارسنجی DTO با اعتبارسنج سفارشی)

### 📧 فرآیند تأیید ایمیل ✅
<!-- برچسب‌های هوش مصنوعی: #تأیید-ایمیل #اعتبارسنجی-توکن #فعال‌سازی-حساب #امنیت #چندزبانه -->
- تأیید ایمیل با اعتبارسنجی توکن (انقضای 24 ساعته)
- مدیریت انقضای توکن با پاک‌سازی خودکار
- ردیابی تلاش تأیید (ثبت آدرس IP و عامل کاربر)
- فعال‌سازی حساب (تغییر وضعیت کاربر از در انتظار به فعال)
- قابلیت ارسال مجدد ایمیل تأیید
- طراحی امنیت اول (مدیریت توکن نامعتبر، محدودیت تلاش)
- پشتیبانی چندزبانه (پیام‌های تأیید محلی‌شده)

### 🔑 احراز هویت ورود کاربر ✅
<!-- برچسب‌های هوش مصنوعی: #احراز-هویت #مدیریت-نشست #امنیت #محدودیت-نرخ #رد-حسابرسی -->
- احراز هویت امن ورود با ایمیل/رمزعبور
- مدیریت نشست (نشست‌های 8 ساعته با انقضای خودکار - BR13)
- امنیت حساب (ردیابی تلاش‌های ناموفق، قفل حساب - BR12)
- محدودیت نرخ (حفاظت مبتنی بر IP - BR11)
- ثبت تلاش ورود (رد حسابرسی امنیتی کامل - BR15)
- انزوای زمینه مستاجر (نشست‌های کاربر متصل به مستاجر)
- نشست فعال واحد (یک نشست برای هر کاربر - BR14)

### خروج کاربر ✅
- باطل‌سازی امن نشست
- هماهنگی پاک‌سازی داده‌های مرورگر
- خروج مناسب (مدیریت نشست‌های منقضی)
- ثبت رویداد خروج

### درخواست بازیابی رمزعبور ✅
- تولید امن توکن (انقضای 2 ساعته - BR16)
- پیوندهای بازیابی ایمیل با قالب‌های HTML
- طراحی امنیت اول (همیشه موفقیت نشان می‌دهد - BR19)
- توکن فعال واحد (یک توکن در انتظار برای هر کاربر - BR17)
- حفاظت محدودیت نرخ

### تکمیل بازیابی رمزعبور ✅
- اعتبارسنجی توکن (تأیید هش امن)
- اجرای سیاست رمزعبور
- باطل‌سازی نشست (پاک‌سازی تمام نشست‌های کاربر - BR18)
- باز کردن قفل حساب (بازنشانی تلاش‌های ناموفق و قفل‌ها)
- ذخیره امن رمزعبور (bcrypt با 12 دور)

### قالب‌بندی خاص محلی ✅
- قالب‌بندی تاریخ مبتنی بر محلی (تقویم فارسی برای ایران، میلادی برای امارات)
- قالب‌بندی عدد (ارقام فارسی برای ایران، ارقام عربی برای امارات)
- قالب‌بندی ارز (ریال برای ایران، درهم برای امارات)
- پیکربندی محلی خاص مستاجر (براساس تنظیمات مستاجر)
- تشخیص محلی زمان‌واقعی (از تنظیم محلی دائمی مستاجر استفاده می‌کند)
- API پیکربندی قالب‌بندی (نقطه پایانی GET /api/locale/formatting)
- پشتیبانی چندزبانه (پاسخ‌های پیکربندی قالب‌بندی محلی‌شده)

### دسترسی و بارگذاری داشبورد ✅
- احراز هویت مبتنی بر نشست (پیاده‌سازی SessionAuthGuard)
- داده‌های داشبورد خاص مستاجر (اطلاعات شرکت، تعداد کاربر، وضعیت سیستم)
- داشبورد چندزبانه (محلی‌شده به فارسی/عربی/انگلیسی)
- بارگذاری زمینه کاربر (نام کامل، ایمیل، نقش، آخرین ورود)
- نمایش اطلاعات سیستم (نسخه، وضعیت، آخرین به‌روزرسانی)
- اعتبارسنجی وضعیت مستاجر (تأیید مستاجر فعال)
- مدیریت نشست (تازه‌سازی و اعتبارسنجی خودکار نشست)

### ایجاد حساب کاربری جدید ✅
- ایجاد کاربر اداری (مالکان/مدیران مستاجر می‌توانند حساب ایجاد کنند)
- کنترل دسترسی مبتنی بر نقش (اعتبارسنجی مجوز برای ایجاد کاربر)
- پشتیبانی شماره تلفن (فیلد اختیاری شماره تلفن با اعتبارسنجی)
- تولید خودکار رمزعبور (رمزعبورهای موقت امن 12 کاراکتری)
- اعلان‌های ایمیل (ایمیل‌های خوشامد با اطلاعات ورود)
- ثبت حسابرسی (رد حسابرسی کامل برای فعالیت‌های ایجاد کاربر)
- اعتبارسنجی تخصیص نقش (اجرای قانون کسب‌وکار برای تخصیص نقش)
- پشتیبانی چندزبانه (پاسخ‌ها و قالب‌های ایمیل محلی‌شده)
- انزوای زمینه مستاجر (کاربران در محدوده صحیح مستاجر ایجاد شده)
- اعتبارسنجی ایمیل (جلوگیری از ایمیل تکراری در مستاجر)

### مشاهده و لیست کاربران ✅
- API لیست کاربر (GET /api/users با فیلترینگ و صفحه‌بندی جامع)
- فیلترینگ پیشرفته (جستجو بر اساس نام/ایمیل، فیلتر بر اساس وضعیت، نقش، محدوده تاریخ آخرین ورود)
- مرتب‌سازی انعطاف‌پذیر (مرتب‌سازی بر اساس fullName، email، lastLoginAt، createdAt، status)
- پشتیبانی صفحه‌بندی (اندازه صفحه قابل تنظیم 1-100، پیش‌فرض 25 کاربر در صفحه)
- دسترسی مبتنی بر مجوز (تمام کاربران احراز هویت شده می‌توانند لیست کاربران را مشاهده کنند)
- انزوای زمینه مستاجر (کاربران فقط کاربران داخل مستاجرشان را می‌بینند)
- پشتیبانی چندزبانه (پاسخ‌ها و پیام‌های خطای محلی‌شده)
- بهینه‌سازی عملکرد (کوئری‌های کارآمد پایگاه داده با فهرست‌گذاری مناسب)
- اعتبارسنجی جامع (اعتبارسنجی پارامتر کوئری با پیام‌های خطای مفصل)
- انطباق قانون کسب‌وکار (پیاده‌سازی BR01-BR08 برای قابلیت مشاهده و قالب‌بندی داده)

### ویرایش پروفایل کاربر ✅
- API به‌روزرسانی پروفایل کاربر (PUT /api/users/{userId} با ویرایش فیلد جامع)
- ویرایش مبتنی بر مجوز (کنترل دسترسی مبتنی بر نقش برای تغییرات پروفایل کاربر)
- پشتیبانی به‌روزرسانی جزئی (فیلدهای اختیاری برای fullName، phoneNumber، roleId، status)
- محدودیت‌های خودویرایشی (کاربران نمی‌توانند نقش یا وضعیت حساب خود را تغییر دهند)
- اعتبارسنجی تخصیص نقش (اجرای قانون کسب‌وکار برای سلسله‌مراتب نقش)
- مدیریت وضعیت حساب (غیرفعال‌سازی با باطل‌سازی خودکار نشست)
- ثبت رد حسابرسی (رد حسابرسی کامل برای تمام تغییرات پروفایل با ردیابی سطح فیلد)
- اعلان‌های ایمیل (اعلان‌های به‌روزرسانی پروفایل برای تغییرات مهم)
- پشتیبانی چندزبانه (پاسخ‌ها و ایمیل‌های اعلان محلی‌شده)
- انزوای زمینه مستاجر (کاربران فقط می‌توانند کاربران داخل مستاجرشان را ویرایش کنند)
- اعتبارسنجی امنیتی (جلوگیری از ارتقای امتیاز و تغییرات غیرمجاز)

### بازنشانی رمزعبور کاربر ✅
- API بازنشانی رمزعبور اداری (POST /api/users/{userId}/reset-password برای بازنشانی‌های شروع شده توسط ادمین)
- روش‌های بازنشانی دوگانه (پیوند بازنشانی ادمین از طریق ایمیل یا تولید رمزعبور موقت)
- کنترل دسترسی مبتنی بر مجوز (مجوزهای ادمین/مدیر برای عملیات بازنشانی رمزعبور مورد نیاز)
- قوانین کسب‌وکار جامع (پیاده‌سازی BR01-BR09 با محدودیت نرخ و اعتبارسنجی امنیتی)
- انتخاب روش بازنشانی (admin_reset_link برای بازنشانی مبتنی بر ایمیل یا admin_temporary_password برای دسترسی فوری)
- مدیریت توکن امنیتی (توکن‌های بازنشانی امن با انقضای 2 ساعته و اعتبارسنجی یک‌بار استفاده)
- حفاظت محدودیت نرخ (5 بازنشانی برای هر کاربر در 24 ساعت با مدیریت خطای مناسب)
- مدیریت نشست (باطل‌سازی خودکار تمام نشست‌های فعال کاربر در بازنشانی رمزعبور)
- اعلان‌های ایمیل (ایمیل‌های بازنشانی محلی‌شده با استفاده از زیرساخت سرویس ایمیل موجود)
- ثبت رد حسابرسی (رد حسابرسی کامل برای تمام فعالیت‌های بازنشانی رمزعبور با ردیابی آغازگر)
- پشتیبانی چندزبانه (پاسخ‌ها و قالب‌های ایمیل محلی‌شده برای تمام زبان‌های پشتیبانی‌شده)
- انزوای زمینه مستاجر (بازنشانی رمزعبور محدود به کاربران داخل همان مستاجر)

### ورود کاربر با دسترسی مبتنی بر نقش ✅
- احراز هویت ورود پیشرفته (ساخته شده بر ? با بهبودهای مبتنی بر نقش)
- قابلیت مرا به خاطر بسپار (نشست‌های ممتد 30 روزه در برابر نشست‌های استاندارد 8 ساعته)
- تغییر مسیر داشبورد مبتنی بر نقش (URLهای داشبورد متفاوت برای هر نوع نقش)
- داده‌های پاسخ مبتنی بر مجوز (مجوزهای خاص نقش در پاسخ ورود شامل)
- اعتبارسنجی وضعیت حساب (تشخیص حساب غیرفعال و مدیریت خطای مناسب)
- تأیید وضعیت مستاجر (تشخیص مستاجر تعلیق شده/غیرفعال با پیام‌رسانی مناسب)
- تشخیص رمزعبور موقت (اجبار تغییر رمزعبور برای رمزعبورهای موقت)
- بهبود امنیت نشست (پشتیبانی نشست ممتد با مدیریت امن کوکی)
- مدیریت خطای چندزبانه (پیام‌های خطای محلی‌شده برای تمام سناریوهای شکست)
- ثبت حسابرسی جامع (ردیابی پیشرفته تلاش‌های ورود با زمینه نقش)
- سیستم مجوزهای نقش (تخصیص مجوز دانه‌ریز براساس نقش‌های کاربر)

### مدیریت پروفایل خودسرویس ✅
- بازیابی اطلاعات پروفایل (GET /api/users/profile با داده‌های کامل پروفایل کاربر)
- به‌روزرسانی اطلاعات پروفایل (PUT /api/users/profile برای ویرایش نام کامل و شماره تلفن)
- قابلیت تغییر رمزعبور (POST /api/users/profile/change-password با تأیید رمزعبور فعلی)
- مدیریت نشست (GET /api/users/profile/sessions برای مشاهده نشست‌های فعال)
- خاتمه نشست (DELETE /api/users/profile/sessions/{sessionId} برای خاتمه نشست‌های خاص)
- ردیابی تاریخچه فعالیت (GET /api/users/profile/activity با رکوردهای فعالیت صفحه‌بندی شده)
- ثبت رد حسابرسی (رد حسابرسی کامل برای تمام فعالیت‌های پروفایل خودسرویس)
- اعتبارسنجی‌های امنیتی (تأیید رمزعبور فعلی، حفاظت نشست، محدودیت نرخ)
- پشتیبانی چندزبانه (پاسخ‌ها و پیام‌های خطای محلی‌شده برای تمام عملیات پروفایل)
- انطباق قانون کسب‌وکار (پیاده‌سازی BR01-BR09 برای محدودیت‌های خودویرایشی و اعتبارسنجی داده)

### مدیریت رد حسابرسی ✅
- بازیابی گزارش‌های حسابرسی (GET /api/audit/logs با فیلترینگ و صفحه‌بندی جامع)
- فیلترینگ پیشرفته (فیلتر بر اساس کاربر، نوع عمل، وضعیت، محدوده تاریخ با ترکیبات کوئری انعطاف‌پذیر)
- قابلیت صادرات حسابرسی (POST /api/audit/export برای گزارش‌دهی انطباق با پشتیبانی فرمت‌های متعدد)
- کنترل دسترسی مبتنی بر نقش (مجوزهای ادمین+ برای دسترسی و صادرات گزارش حسابرسی مورد نیاز)
- فیلترینگ مبتنی بر مجوز (کاربران فقط می‌توانند به گزارش‌های حسابرسی در محدوده مستاجرشان دسترسی داشته باشند)
- پشتیبانی فرمت صادرات (فرمت‌های CSV، JSON، PDF برای نیازهای انطباق و گزارش‌دهی)
- انزوای زمینه مستاجر (گزارش‌های حسابرسی بر اساس زمینه مستاجر برای امنیت داده فیلتر شده)
- ردیابی وضعیت صادرات (ردیابی درخواست صادرات با به‌روزرسانی وضعیت و اعلان‌های تکمیل)
- رد حسابرسی برای دسترسی حسابرسی (تمام فعالیت‌های مشاهده و صادرات گزارش حسابرسی خود ثبت می‌شوند)
- پشتیبانی چندزبانه (پاسخ‌ها و پیام‌های خطای محلی‌شده برای تمام عملیات حسابرسی)
- انطباق قانون کسب‌وکار (پیاده‌سازی BR01-BR08 برای قابلیت مشاهده حسابرسی و کنترل‌های صادرات)

### اجرای مجوز مبتنی بر نقش ✅
- مدیریت سیستم مجوز (GET /api/permissions برای بازیابی تمام مجوزهای سیستم موجود)
- بازیابی مجوز نقش (GET /api/roles/{roleId}/permissions برای مشاهده مجوزهای خاص نقش)
- تخصیص مجوز نقش (PUT /api/roles/{roleId}/permissions برای به‌روزرسانی نقشه‌های مجوز نقش)
- بررسی مجوز زمان‌واقعی (GET /api/permissions/check برای اعتبارسنجی مجوزهای کاربر)
- مدل مجوز منبع-عمل (مجوزهای دانه‌ریز براساس ترکیبات منبع و عمل)
- کنترل دسترسی مبتنی بر نقش (وراثت و اجرای مجوز براساس نقش‌های کاربر)
- انزوای زمینه مستاجر (بررسی‌ها و تخصیص‌های مجوز براساس محدوده مستاجر انزوا شده)
- ثبت بررسی مجوز (رد حسابرسی کامل برای تمام تلاش‌های تأیید مجوز)
- پشتیبانی چندزبانه (پاسخ‌ها و پیام‌های خطای محلی‌شده برای تمام عملیات مجوز)
- انطباق قانون کسب‌وکار (پیاده‌سازی BR01-BR08 برای مدیریت مجوز و امنیت)

### 📂 مدیریت دسته‌بندی ✅
<!-- برچسب‌های هوش مصنوعی: #مدیریت-دسته‌بندی #محدوده-مستاجر #عملیات-crud #دسته‌بندی-موجودی #اعتبارسنجی-داده #چندزبانه -->
- API ایجاد دسته‌بندی (POST /api/categories برای ایجاد دسته‌بندی‌های سفارشی با انزوای مستاجر)
- API لیست دسته‌بندی (GET /api/categories با صفحه‌بندی، جستجو، و فیلترینگ محدوده‌مستاجر)
- API به‌روزرسانی دسته‌بندی (PUT /api/categories/{categoryId} برای ویرایش دسته‌بندی‌های موجود)
- API حذف دسته‌بندی (DELETE /api/categories/{categoryId} با اعتبارسنجی پیوند موجودی)
- API تعداد آیتم‌های دسته‌بندی (GET /api/categories/{categoryId}/items-count برای اعتبارسنجی حذف)
- عملیات محدوده‌مستاجر (تمام عملیات دسته‌بندی به مستاجر کاربر انزوا شده با محدودیت‌های نام منحصربه‌فرد)
- کنترل دسترسی مبتنی بر مجوز (مجوزهای categories:create، categories:read، categories:update، categories:delete مورد نیاز)
- احراز هویت مبتنی بر نشست (حفاظت SessionAuthGuard با اعتبارسنجی زمینه کاربر جامع)
- پشتیبانی صفحه‌بندی پیشرفته (صفحه‌بندی مبتنی بر صفحه قابل تنظیم با 1-50 آیتم در صفحه، پیش‌فرض 20)
- قابلیت جستجو (جستجوی نام دسته‌بندی بدون حساسیت به حروف با حداقل 2 کاراکتر مورد نیاز)
- مرتب‌سازی حروف الفبا (دسته‌بندی‌ها خودکار بر اساس نام برای تجربه کاربری سازگار مرتب شده)
- اعتبارسنجی و پاک‌سازی داده (اعتبارسنجی ورودی جامع با محدودیت‌های نام 255 کاراکتر و توضیحات 500 کاراکتر)
- جلوگیری از نام تکراری (بررسی تکراری زمان‌واقعی در محدوده مستاجر با پیام‌های خطای توضیحی)
- اعتبارسنجی پیوند موجودی (جلوگیری از حذف دسته‌بندی‌های با آیتم‌های موجودی مرتبط، با پاسخ‌های خطای مفصل)
- ادغام رد حسابرسی (ثبت حسابرسی کامل برای تمام تلاش‌های ایجاد، به‌روزرسانی، حذف دسته‌بندی، و فعالیت‌های بازیابی)
- پشتیبانی چندزبانه (پیام‌های خطا و پاسخ‌های موفقیت محلی‌شده به انگلیسی، فارسی، و عربی)
- محدودیت‌ها و فهرست‌گذاری پایگاه داده (محدودیت‌های منحصربه‌فرد، روابط کلید خارجی، و بهینه‌سازی عملکرد با فهرست‌های مناسب)
- انطباق قانون کسب‌وکار (انزوای مستاجر، اجرای مجوز، اعتبارسنجی یکپارچگی داده، ایمنی حذف، و پشتیبانی متن RTL)
- مدیریت خطا (پاسخ‌های خطای جامع برای شکست‌های اعتبارسنجی، مسائل مجوز، خطاهای یافت نشده، نام‌های تکراری، و تعارض‌های موجودی)
- پرورش مجوز مبتنی بر نقش (ایجاد و تخصیص خودکار مجوز برای categories:create, read, update, delete, manage)
- پیاده‌سازی حذف امن (حذف دائمی با الزامات تأیید و اعتبارسنجی موجودی برای جلوگیری از از دست رفتن داده)

### 📦 مدیریت موجودی ✅
<!-- برچسب‌های هوش مصنوعی: #مدیریت-موجودی #آیتم‌های-سریال‌دار #آیتم‌های-غیرسریال‌دار #شماره-سریال #محدوده-مستاجر #چندزبانه #اعتبارسنجی-داده -->
- API ایجاد آیتم موجودی (POST /api/inventory برای ایجاد آیتم‌های موجودی سریال‌دار و غیرسریال‌دار با انزوای مستاجر)
- API لیست موجودی (GET /api/inventory با صفحه‌بندی پیشرفته، جستجو، فیلترینگ، و قابلیت‌های مرتب‌سازی)
- API بازیابی آیتم موجودی (GET /api/inventory/{itemId} برای اطلاعات مفصل آیتم با دسترسی محدوده‌مستاجر)
- API اعتبارسنجی شماره سریال (POST /api/inventory/serial-number/validate برای بررسی منحصربه‌فردی زمان‌واقعی)
- API تولید شماره سریال (POST /api/inventory/serial-number/generate برای تولید خودکار دنباله)
- پشتیبانی نوع آیتم دوگانه (آیتم‌های سریال‌دار با شماره‌های سریال منحصربه‌فرد و آیتم‌های غیرسریال‌دار با ردیابی مقدار)
- عملیات محدوده‌مستاجر (تمام عملیات موجودی به مستاجر کاربر انزوا شده با محدودیت‌های نام و شماره سریال منحصربه‌فرد)
- کنترل دسترسی مبتنی بر مجوز (مجوزهای inventory:create، inventory:read، inventory:update، inventory:delete مورد نیاز)

### 📝 ویرایش آیتم موجودی ✅
<!-- برچسب‌های هوش مصنوعی: #ویرایش-موجودی #مدیریت-وضعیت #قفل-خوشبینانه #رد-حسابرسی #انتقال-وضعیت #تاریخچه-اجاره -->
- API به‌روزرسانی آیتم موجودی (PUT /api/inventory/{itemId} برای ویرایش اطلاعات اولیه آیتم با قفل خوشبینانه)
- API تغییر وضعیت (PATCH /api/inventory/{itemId}/status برای مدیریت وضعیت دسترسی آیتم با اعتبارسنجی)
- API گزینه‌های وضعیت (GET /api/inventory/status-options/{itemId} برای گزینه‌های انتقال وضعیت معتبر)
- API تاریخچه وضعیت (GET /api/inventory/{itemId}/status-history برای رد حسابرسی کامل تغییرات وضعیت)
- قفل خوشبینانه (تشخیص تعارض مبتنی بر نسخه برای جلوگیری از تعارض‌های ویرایش همزمان)
- اعتبارسنجی انتقال وضعیت (اجرای قانون کسب‌وکار برای تغییرات وضعیت معتبر براساس حالت فعلی)
- ردیابی تاریخچه اجاره (جلوگیری از تغییرات نوع آیتم برای آیتم‌های با تاریخچه اجاره)
- مدیریت وضعیت جامع (پشتیبانی وضعیت موجود، اجاره داده شده، نگهداری، آسیب‌دیده، گمشده)
- رد حسابرسی تغییر وضعیت (ردیابی مفصل تمام تغییرات وضعیت با کاربر، دلیل، و زمان)
- ردیابی تاریخ حل (تاریخ‌های حل مورد انتظار برای آیتم‌های نگهداری و آسیب‌دیده)
- مستندسازی دلیل تغییر (ردیابی دلیل اختیاری برای تغییرات وضعیت با زمینه کسب‌وکار)
- تمایز تغییر خودکار در برابر دستی (تمایز واضح بین تغییرات شروع شده توسط سیستم و کاربر)
- ثبت آدرس IP و عامل کاربر (زمینه حسابرسی کامل برای امنیت و عیب‌یابی)
- عملیات محدوده‌مستاجر (تمام عملیات ویرایش به مستاجر کاربر انزوا شده با اعتبارسنجی مجوز)
- پشتیبانی چندزبانه (پیام‌های خطا و پاسخ‌های موفقیت محلی‌شده به انگلیسی، فارسی، و عربی)
- محدودیت‌ها و فهرست‌گذاری پایگاه داده (روابط کلید خارجی، بهینه‌سازی عملکرد، و یکپارچگی داده)
- انطباق قانون کسب‌وکار (اجرای مجوز ویرایش، اعتبارسنجی نسخه، قوانین انتقال وضعیت، و الزامات حسابرسی)
- مدیریت خطا (پاسخ‌های خطای جامع برای شکست‌های اعتبارسنجی، مسائل مجوز، تعارض‌ها، و نقض قوانین کسب‌وکار)
- احراز هویت مبتنی بر نشست (حفاظت SessionAuthGuard با اعتبارسنجی زمینه کاربر جامع)
- جستجو و فیلترینگ پیشرفته (جستجوی نام، فیلترینگ دسته‌بندی، فیلترینگ نوع آیتم، فیلترینگ وضعیت دسترسی)
- گزینه‌های مرتب‌سازی انعطاف‌پذیر (مرتب‌سازی بر اساس نام، تاریخ ایجاد، تاریخ به‌روزرسانی با پشتیبانی ترتیب صعودی/نزولی)
- صفحه‌بندی قابل تنظیم (1-100 آیتم در صفحه با پیش‌فرض 25، شامل فراداده برای ناوبری رابط کاربری)
- مدیریت شماره سریال (تولید خودکار با دنباله‌های خاص مستاجر، اعتبارسنجی ورودی دستی، اجرای منحصربه‌فردی)
- ادغام دسته‌بندی (روابط کلید خارجی قوی با موجودیت‌های دسته‌بندی، حل نام دسته‌بندی در پاسخ‌ها)
- اعتبارسنجی و پاک‌سازی داده (اعتبارسنجی ورودی جامع با محدودیت‌های مناسب طول فیلد و بررسی نوع)
- ردیابی وضعیت دسترسی (مدیریت وضعیت موجود، اجاره داده شده، نگهداری، آسیب‌دیده، گمشده با حالت پیش‌فرض موجود)
- مدیریت وضعیت آیتم (وضعیت فعال، غیرفعال، آرشیو شده با حالت پیش‌فرض فعال برای آیتم‌های جدید)
- ادغام رد حسابرسی (ثبت حسابرسی کامل برای تمام فعالیت‌های ایجاد، بازیابی، و اعتبارسنجی موجودی)
- پشتیبانی چندزبانه (پیام‌های خطا و پاسخ‌های موفقیت محلی‌شده به انگلیسی، فارسی، و عربی)
- محدودیت‌ها و بهینه‌سازی پایگاه داده (محدودیت‌های منحصربه‌فرد، کلیدهای خارجی، فهرست‌ها، و محدودیت‌های بررسی برای یکپارچگی داده)
- مدیریت دنباله شماره سریال (دنباله‌های خودافزایش خاص مستاجر با پیشوند‌ها و پدینگ قابل سفارشی‌سازی)
- انطباق قانون کسب‌وکار (انزوای مستاجر، اجرای مجوز، اعتبارسنجی یکپارچگی داده، الزامات خاص نوع)
- مدیریت خطا (پاسخ‌های خطای جامع برای شکست‌های اعتبارسنجی، مسائل مجوز، تکراری‌ها، و خطاهای یافت نشده)
- ادغام مجوز مبتنی بر نقش (پرورش خودکار مجوز برای تمام نقش‌های مستاجر با سطوح دسترسی مناسب)

### غیرفعال‌سازی و فعال‌سازی مجدد حساب کاربری ✅
- تغییر وضعیت کاربر فردی (PATCH /api/users/{userId}/status برای فعال‌سازی/غیرفعال‌سازی کاربر واحد)
- مدیریت وضعیت کاربر انبوه (PATCH /api/users/bulk-status برای پردازش همزمان چندین کاربر)
- کنترل دسترسی مبتنی بر مجوز (اجرای سلسله‌مراتب نقش با محدودیت‌های ادمین/مالک مستاجر)
- ادغام مدیریت نشست (خاتمه خودکار نشست‌های فعال در طول غیرفعال‌سازی)
- اجرای قانون کسب‌وکار (جلوگیری از خودغیرفعال‌سازی، حفاظت آخرین ادمین، اعتبارسنجی انتقال وضعیت)
- ثبت حسابرسی جامع (رد حسابرسی کامل برای تمام فعالیت‌های تغییر وضعیت با زمینه مفصل)
- سیستم اعلان ایمیل (اعلان‌های تغییر وضعیت محلی‌شده با توضیح دلیل و پیامدها)
- انزوای زمینه مستاجر (تغییرات وضعیت محدود به کاربران داخل محدوده همان مستاجر)
- پشتیبانی چندزبانه (پاسخ‌ها و پیام‌های خطای محلی‌شده برای تمام عملیات تغییر وضعیت)
- الزامات حفظ داده (داده‌های تاریخی و ردهای حسابرسی در طول تغییرات وضعیت حفظ شده)
- حفاظت تداوم کسب‌وکار (جلوگیری از یتیم شدن عملکردهای سیستم بحرانی و نقش‌های ضروری)
- پشتیبانی بازیابی خطا (مدیریت مناسب شکست‌های جزئی با گزارش‌دهی نتیجه مفصل)

---